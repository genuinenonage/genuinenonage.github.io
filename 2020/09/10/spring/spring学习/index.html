<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 5.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.13.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Spring框架Spring框架是一系列应用框架的核心，是整合其他应用框架的基座。同时还是SpringBoot的基础。里面包含了Spring，SpringMVC，SpringData（事务），SpringTest等等。 SpringIOC负责降低代码间的依赖关系，使项目灵活度更高，可复用性更强。 AOP让方法间的各个部分更加独立，达到统一调用执行，使后期维护更加方便。 SpringMVC对Serv">
<meta property="og:type" content="article">
<meta property="og:title" content="spring学习">
<meta property="og:url" content="http://example.com/2020/09/10/Spring/spring%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="genuine nonage">
<meta property="og:description" content="Spring框架Spring框架是一系列应用框架的核心，是整合其他应用框架的基座。同时还是SpringBoot的基础。里面包含了Spring，SpringMVC，SpringData（事务），SpringTest等等。 SpringIOC负责降低代码间的依赖关系，使项目灵活度更高，可复用性更强。 AOP让方法间的各个部分更加独立，达到统一调用执行，使后期维护更加方便。 SpringMVC对Serv">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/09/22/oYXJAV9mB4dh36D.jpg">
<meta property="og:image" content="https://i.loli.net/2020/10/12/zCs9JenfOpXtH1i.png">
<meta property="og:image" content="https://i.loli.net/2020/10/12/cRlNruMIPqY3FdE.png">
<meta property="og:image" content="https://i.loli.net/2020/10/15/GDQkdFzswOPTnUu.png">
<meta property="og:image" content="https://i.loli.net/2020/10/15/GDQkdFzswOPTnUu.png">
<meta property="article:published_time" content="2020-09-10T09:19:00.000Z">
<meta property="article:modified_time" content="2020-10-16T04:23:33.098Z">
<meta property="article:author" content="QB">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/09/22/oYXJAV9mB4dh36D.jpg">


<link rel="canonical" href="http://example.com/2020/09/10/Spring/spring%E5%AD%A6%E4%B9%A0/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://example.com/2020/09/10/Spring/spring%E5%AD%A6%E4%B9%A0/","path":"2020/09/10/Spring/spring学习/","title":"spring学习"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>spring学习 | genuine nonage</title>
  






  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">genuine nonage</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">减少放电，增加充电</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring%E6%A1%86%E6%9E%B6"><span class="nav-number">1.</span> <span class="nav-text">Spring框架</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring"><span class="nav-number">1.0.1.</span> <span class="nav-text">Spring</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SpringMVC"><span class="nav-number">1.0.2.</span> <span class="nav-text">SpringMVC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SpringData"><span class="nav-number">1.0.3.</span> <span class="nav-text">SpringData</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SpringTest"><span class="nav-number">1.0.4.</span> <span class="nav-text">SpringTest</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring-1"><span class="nav-number">2.</span> <span class="nav-text">Spring</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">2.0.1.</span> <span class="nav-text">Spring是什么</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#spring%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="nav-number">2.0.2.</span> <span class="nav-text">spring的优势</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#spring%E4%BD%93%E7%B3%BB%E6%A1%86%E6%9E%B6"><span class="nav-number">2.0.3.</span> <span class="nav-text">spring体系框架</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring%E7%9A%84IOC"><span class="nav-number">2.1.</span> <span class="nav-text">Spring的IOC</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IOC"><span class="nav-number">2.1.1.</span> <span class="nav-text">IOC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="nav-number">2.1.2.</span> <span class="nav-text">设计模式-工厂模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IOC%E5%92%8CDI"><span class="nav-number">2.1.3.</span> <span class="nav-text">IOC和DI</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#IOC-Inversion-of-Control"><span class="nav-number">2.1.3.1.</span> <span class="nav-text">IOC-Inversion of Control</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DI-Dependency-Injection"><span class="nav-number">2.1.3.2.</span> <span class="nav-text">DI-Dependency Injection</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IOC-%E7%BB%86%E8%8A%82"><span class="nav-number">2.1.4.</span> <span class="nav-text">IOC 细节</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bean%E7%BB%86%E8%8A%82"><span class="nav-number">2.1.5.</span> <span class="nav-text">bean细节</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAbean%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="nav-number">2.1.5.1.</span> <span class="nav-text">创建bean的三种方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bean%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4"><span class="nav-number">2.1.5.2.</span> <span class="nav-text">bean对象的作用范围</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bean-%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">2.1.5.3.</span> <span class="nav-text">bean 对象的生命周期</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#spring%E4%B8%AD%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="nav-number">2.1.6.</span> <span class="nav-text">spring中的依赖注入</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#spring%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E7%9A%84IOC"><span class="nav-number">2.2.</span> <span class="nav-text">spring基于注解的IOC</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9B%BE%E7%BB%8F%E7%9A%84xml%E9%85%8D%E7%BD%AE%EF%BC%9A"><span class="nav-number">2.2.1.</span> <span class="nav-text">曾经的xml配置：</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E4%BA%8E%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="nav-number">2.2.1.1.</span> <span class="nav-text">用于创建对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E4%BA%8E%E6%B3%A8%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="nav-number">2.2.1.2.</span> <span class="nav-text">用于注入数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E4%BA%8E%E6%94%B9%E5%8F%98%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4"><span class="nav-number">2.2.1.3.</span> <span class="nav-text">用于改变作用范围</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%92%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9B%B8%E5%85%B3%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="nav-number">2.2.1.4.</span> <span class="nav-text">和生命周期相关（了解）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8Exml%E7%9A%84ioc%E6%A1%88%E4%BE%8B"><span class="nav-number">2.2.1.5.</span> <span class="nav-text">基于xml的ioc案例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#spring%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="nav-number">2.2.2.</span> <span class="nav-text">spring配置类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#spring%E6%95%B4%E5%90%88Junit%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"><span class="nav-number">2.2.3.</span> <span class="nav-text">spring整合Junit单元测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1"><span class="nav-number">2.2.4.</span> <span class="nav-text">事务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="nav-number">2.2.5.</span> <span class="nav-text">动态代理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%EF%BC%9A"><span class="nav-number">2.2.5.1.</span> <span class="nav-text">基于接口的动态代理：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E5%AD%90%E7%B1%BB%E7%9A%84%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="nav-number">2.2.5.2.</span> <span class="nav-text">基于子类的动态代理</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AOP"><span class="nav-number">2.3.</span> <span class="nav-text">AOP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring%E7%9A%84AOP"><span class="nav-number">2.4.</span> <span class="nav-text">Spring的AOP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#AOP%E4%B8%AD%E7%9A%84%E6%9C%AF%E8%AF%AD%EF%BC%9A"><span class="nav-number">2.4.0.1.</span> <span class="nav-text">AOP中的术语：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E9%98%B6%E6%AE%B5Spring-%E6%A1%86%E6%9E%B6%EF%BC%9A"><span class="nav-number">2.4.0.2.</span> <span class="nav-text">运行阶段Spring 框架：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E9%85%8D%E7%BD%AE%E7%9A%84springAOP"><span class="nav-number">2.4.1.</span> <span class="nav-text">基于配置的springAOP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E7%9A%84springAOP"><span class="nav-number">2.4.2.</span> <span class="nav-text">基于注解的springAOP</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%9D%E8%AF%81idea%E7%9A%84maven%E7%9A%84jdk%E4%BF%9D%E6%8C%81%E4%B8%8D%E5%8F%98"><span class="nav-number">2.5.</span> <span class="nav-text">保证idea的maven的jdk保持不变</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring%E7%9A%84JdbcTemplate"><span class="nav-number">2.6.</span> <span class="nav-text">Spring的JdbcTemplate</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringMVC-1"><span class="nav-number">3.</span> <span class="nav-text">SpringMVC</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SpringMVC%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="nav-number">3.0.1.</span> <span class="nav-text">SpringMVC的优势</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SpringMVC%E4%B8%8EStruts2%E7%9A%84%E4%BC%98%E7%95%A5%E5%88%86%E6%9E%90"><span class="nav-number">3.0.2.</span> <span class="nav-text">SpringMVC与Struts2的优略分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SpringMVC%E5%85%A5%E9%97%A8%E7%A8%8B%E5%BA%8F"><span class="nav-number">3.1.</span> <span class="nav-text">SpringMVC入门程序</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="nav-number">3.1.1.</span> <span class="nav-text">环境搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%A5%E9%97%A8%E7%A8%8B%E5%BA%8F-springmvc-xml"><span class="nav-number">3.1.1.1.</span> <span class="nav-text">入门程序-springmvc.xml</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="nav-number">3.1.1.2.</span> <span class="nav-text">运行流程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E8%A7%A3%E8%AE%B2%E8%A7%A3"><span class="nav-number">3.1.2.</span> <span class="nav-text">注解讲解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E7%9A%84%E7%BB%91%E5%AE%9A"><span class="nav-number">3.1.3.</span> <span class="nav-text">请求参数的绑定</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%91%E5%AE%9A%E7%9A%84%E6%9C%BA%E5%88%B6"><span class="nav-number">3.1.3.1.</span> <span class="nav-text">绑定的机制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%94%AF%E6%8C%81%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.1.3.2.</span> <span class="nav-text">支持的数据类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98"><span class="nav-number">3.1.3.3.</span> <span class="nav-text">请求参数乱码问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-ServletAPI-%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0"><span class="nav-number">3.1.3.4.</span> <span class="nav-text">使用 ServletAPI 对象作为方法参数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8EHiddentHttpMethodFilter%E7%9A%84%E5%A4%9A%E7%A7%8D%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F"><span class="nav-number">3.1.4.</span> <span class="nav-text">基于HiddentHttpMethodFilter的多种请求方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE%E5%92%8C%E7%BB%93%E6%9E%9C%E8%A7%86%E5%9B%BE"><span class="nav-number">3.2.</span> <span class="nav-text">响应数据和结果视图</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%8C%89%E8%BF%94%E5%9B%9E%E5%80%BC%E5%88%86%E7%B1%BB"><span class="nav-number">3.2.1.</span> <span class="nav-text">1.按返回值分类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">3.2.1.1.</span> <span class="nav-text">1.字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-void"><span class="nav-number">3.2.1.2.</span> <span class="nav-text">2. void</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-ModelAndView"><span class="nav-number">3.2.1.3.</span> <span class="nav-text">3.ModelAndView</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%BD%AC%E5%8F%91%E5%92%8C%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">3.2.2.</span> <span class="nav-text">2.转发和重定向</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-forward%E8%BD%AC%E5%8F%91"><span class="nav-number">3.2.2.1.</span> <span class="nav-text">1.forward转发</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Redirect%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">3.2.2.2.</span> <span class="nav-text">2. Redirect重定向</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-ResponseBody-%E5%93%8D%E5%BA%94-json-%E6%95%B0%E6%8D%AE"><span class="nav-number">3.2.3.</span> <span class="nav-text">3.ResponseBody 响应 json 数据</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SpringMVC%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="nav-number">3.3.</span> <span class="nav-text">SpringMVC文件上传</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%9B%9E%E9%A1%BE"><span class="nav-number">3.3.1.</span> <span class="nav-text">1.文件上传回顾</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">QB</p>
  <div class="site-description" itemprop="description">菜鸡</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">66</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">30</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">60</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/10/Spring/spring%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="QB">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="genuine nonage">
      <meta itemprop="description" content="菜鸡">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="spring学习 | genuine nonage">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          spring学习
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-09-10 17:19:00" itemprop="dateCreated datePublished" datetime="2020-09-10T17:19:00+08:00">2020-09-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2020-10-16 12:23:33" itemprop="dateModified" datetime="2020-10-16T12:23:33+08:00">2020-10-16</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="Spring框架"><a href="#Spring框架" class="headerlink" title="Spring框架"></a>Spring框架</h1><p>Spring框架是一系列应用框架的核心，是整合其他应用框架的基座。同时还是SpringBoot的基础。里面包含了Spring，SpringMVC，SpringData（事务），SpringTest等等。</p>
<h3 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h3><p>IOC负责降低代码间的依赖关系，使项目灵活度更高，可复用性更强。</p>
<p>AOP让方法间的各个部分更加独立，达到统一调用执行，使后期维护更加方便。</p>
<h3 id="SpringMVC"><a href="#SpringMVC" class="headerlink" title="SpringMVC"></a>SpringMVC</h3><p>对Servlet和JSP的API进行了封装，并在此基础上进一步加强。它推出的一套注解，可以更轻松的做表现层开发。</p>
<h3 id="SpringData"><a href="#SpringData" class="headerlink" title="SpringData"></a>SpringData</h3><p>一组技术合集。里面包含了JDBC，Data JPA，Data Redis，Data Mongodb，Data Rabbit，Data ElasticSearch等等。合集中的每一项都是针对不同数据存储做的简化封装。</p>
<h3 id="SpringTest"><a href="#SpringTest" class="headerlink" title="SpringTest"></a>SpringTest</h3><p>对Junit单元测试的整合。在开发中以及开发后期进行测试时，直接使用Junit结合spring一起测试。</p>
<h1 id="Spring-1"><a href="#Spring-1" class="headerlink" title="Spring"></a>Spring</h1><h3 id="Spring是什么"><a href="#Spring是什么" class="headerlink" title="Spring是什么"></a>Spring是什么</h3><p>Spring是分层的JavaSE/EE应用的轻量级开源框架，IOC和AOP为内核，提供了展现层MVC和持久层Spring JDBC以及业务层事务管理等众多企业级应用技术，还能整合众多第三方框架和类库。主键成为使用最多的JavaEE企业应用开源框架。</p>
<h3 id="spring的优势"><a href="#spring的优势" class="headerlink" title="spring的优势"></a>spring的优势</h3><ul>
<li>方便解耦</li>
<li>AOP编程的支持</li>
<li>声明式事务的支持</li>
<li>方便层序的测试</li>
<li>方便集成各种优秀的框架</li>
<li>降低JavaAPI的使用难度</li>
<li>Java源码是经典设计范例</li>
</ul>
<h3 id="spring体系框架"><a href="#spring体系框架" class="headerlink" title="spring体系框架"></a>spring体系框架</h3><p><img src="https://i.loli.net/2020/09/22/oYXJAV9mB4dh36D.jpg" alt="spring体系框架.jpg"></p>
<p>IOC：控制反转，对象创建的权力转移了，不在new了，交由spring管理。<br>AOP：日志与异常的代码，动态的切入业务类。</p>
<p>以前使用EJB，臃肿、低效的开发模式。</p>
<p>开发分三层：</p>
<ul>
<li>表现层：整合Struts</li>
<li>业务层：事务管理，记录日志</li>
<li>持久层：整合Hibernate，JdbcTemplate</li>
</ul>
<h2 id="Spring的IOC"><a href="#Spring的IOC" class="headerlink" title="Spring的IOC"></a>Spring的IOC</h2><h3 id="IOC"><a href="#IOC" class="headerlink" title="IOC"></a>IOC</h3><p>控制反转，把创建对象的权力交给框架。包括依赖注入和依赖查找。</p>
<p>ioc的作用：削减计算机程序的耦合（减少代码间的依赖关系）。</p>
<h3 id="设计模式-工厂模式"><a href="#设计模式-工厂模式" class="headerlink" title="设计模式-工厂模式"></a>设计模式-工厂模式</h3><p>最常用的实例化对象模式，用工厂中的方法代替new创建对象的一种设计模式。</p>
<h3 id="IOC和DI"><a href="#IOC和DI" class="headerlink" title="IOC和DI"></a>IOC和DI</h3><h4 id="IOC-Inversion-of-Control"><a href="#IOC-Inversion-of-Control" class="headerlink" title="IOC-Inversion of Control"></a>IOC-Inversion of Control</h4><p>控制反转。不是一个技术，而是一个思想。</p>
<p>对象创建的权力转移了，不在new了，交由spring管理。</p>
<p>作用：削减代码间的耦合。</p>
<p>实现思想：利用工厂模式，把创建对象代码从具体类中剥离出去，交由工厂完成，从而降低代码间的依赖关系。</p>
<p>耦合分类：耦合程序间的依赖关系</p>
<ol>
<li>内容耦合：修改时需要修改源码</li>
<li>公共耦合：开发时需要限制作用范围</li>
<li>外部耦合</li>
<li>控制耦合：</li>
<li>标记耦合</li>
<li>数据耦合</li>
<li>非直接耦合</li>
</ol>
<p>为什么要解耦：</p>
<ul>
<li>耦合是影响软件复杂程度和设计质量的一个重要因素，在设计上我们应采用原则：<ul>
<li>如果模块间必然存在耦合，就尽量使用数据耦合，少用控制耦合，限制公共耦合的范围，尽量避免使用内容耦合。</li>
</ul>
</li>
</ul>
<h4 id="DI-Dependency-Injection"><a href="#DI-Dependency-Injection" class="headerlink" title="DI-Dependency Injection"></a>DI-Dependency Injection</h4><p>依赖注入。是spring框架核心IOC的具体实现。</p>
<h3 id="IOC-细节"><a href="#IOC-细节" class="headerlink" title="IOC 细节"></a>IOC 细节</h3><p>获取spring的IOC核心容器，并根据id获取对象</p>
<p>Application||Context的常用的三个常用的实现类：</p>
<ol>
<li>ClassPathXmlApplicationContext:可以加载类路径下的配置文件，要求配置文件必须在类路径下。</li>
<li>FileSystemXmlApplicationContext:可以加载磁盘任意路径下的配置文件（必须有访问权限），使用绝对路径。</li>
<li>AnnotationConfigApplicationContext:用于读取注解创建容器的。</li>
</ol>
<p>核心容器的两个接口：</p>
<ol>
<li>ApplicationContext（单例对象适用）：在构建容器时，创建对象，采取立即加载的方式。只要一读取完配置文件就创建配置文件中配置的对象。</li>
<li>BeanFactory（多例对象适用）：在构建核心容器时，创建对象，采用延迟加载的方式。什么时候根据id获取对象，才真正的获取对象。</li>
</ol>
<h3 id="bean细节"><a href="#bean细节" class="headerlink" title="bean细节"></a>bean细节</h3><h4 id="创建bean的三种方式"><a href="#创建bean的三种方式" class="headerlink" title="创建bean的三种方式"></a>创建bean的三种方式</h4><ol>
<li><p>默认构造函数创建：在spring的配置文件中使用bean标签，配以id和class属性，没有其他属性和标签时，采用默认构造函数创建bean对象。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;accountService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com...AccountServiceImpl&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>使用普通工厂中的方法创建对象（使用某个类的方法创建对象，并存入spring容器）</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;instanceFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com...InstanceFactory&quot;</span> /&gt;</span></span><br><span class="line">2. <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;accountService&quot;</span> <span class="attr">factory-bean</span>=<span class="string">&quot;instanceFactory&quot;</span> <span class="attr">factory-method</span>=<span class="string">&quot;getAccountService&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>工厂中静态方法（某个类中静态方法创建对象，并存入spring容器）</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;accountService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com...StaticFactory&quot;</span> <span class="attr">factory-method</span>=<span class="string">&quot;getAccountService&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="bean对象的作用范围"><a href="#bean对象的作用范围" class="headerlink" title="bean对象的作用范围"></a>bean对象的作用范围</h4><p>bean标签的scope属性：用于指定bean的作用范围</p>
<p>取值：</p>
<ol>
<li>singleton：单例的（默认值）</li>
<li>prototype：多例的</li>
<li>request：作用于web应用的请求范围</li>
<li>session：作用于web应用的会话范围</li>
<li>global-session：作用于集群环境的会话范围（全局会话范围），不是集群环境时，就是session</li>
</ol>
<h4 id="bean-对象的生命周期"><a href="#bean-对象的生命周期" class="headerlink" title="bean 对象的生命周期"></a>bean 对象的生命周期</h4><ol>
<li><p>单例对象</p>
<ol>
<li>出生：当容器对象创建时</li>
<li>容器还在，对象一直在</li>
<li>容器销毁，对象消亡</li>
<li>结论：单例对象生命周期和容器相同。</li>
</ol>
</li>
<li><p>多例对象</p>
<ol>
<li>出生：当使用对象时创建</li>
<li>对象使用时，一直在</li>
<li>当对象长时间不用，且没有别的对象引用时，GC回收。</li>
</ol>
</li>
</ol>
<h3 id="spring中的依赖注入"><a href="#spring中的依赖注入" class="headerlink" title="spring中的依赖注入"></a>spring中的依赖注入</h3><p>当前类需要使用到其他类的对象，由spring提供，依赖关系的维护称之为依赖注入。</p>
<p>能注入的数据有3类：</p>
<ol>
<li>基本类型和String</li>
<li>其他bean类型（在配置文件中或者注解配置过的bean）</li>
<li>复杂类型/集合类型<ol>
<li>list结构集合注入标签：list，array，set</li>
<li>Map结构结合注入标签：map，props</li>
</ol>
</li>
</ol>
<p>注入的方式3中：</p>
<ol>
<li>构造函数提供：编写带参构造函数<ol>
<li>使用标签constructor-arg</li>
<li>位置：bean标签内部</li>
<li>属性：<ol>
<li>type：构造函数中某个或某些参数的类型</li>
<li>index：构造函数中指定索引位置的参数赋值</li>
<li>name：构造函数中指定名称的参数赋值（以上三个用于指定给构造函数中那个参数赋值）</li>
<li>value：提供基本类型和String类型的数据</li>
<li>ref：指定其他的bean类型数据。spring的IOC核心容器中出现过的bean对象</li>
</ol>
</li>
<li>优势：在获取bean对象时，注入数据是必须的操作，否则对象无法创建成功。</li>
<li>弊端：改变了bean对象的实例化方式，在创建对象时，如果用不到这些方式也会提供。</li>
</ol>
</li>
<li>set方法提供（需要给成员变量写set方法）<ol>
<li>标签：property；复杂类型/集合类型可以在内部使用对应的标签。</li>
<li>位置：bean标签的内部</li>
<li>属性：<ol>
<li>name：指定注入时set方法名称（setUserName–&gt;userName）</li>
<li>value</li>
<li>ref</li>
</ol>
</li>
<li>优势：创建对象是没有明确的限制，可以直接使用默认构造函数。</li>
<li>弊端：如果某个成员必须有值，则获取对象时可能set方法没有执行。</li>
</ol>
</li>
<li>注解提供</li>
</ol>
<h2 id="spring基于注解的IOC"><a href="#spring基于注解的IOC" class="headerlink" title="spring基于注解的IOC"></a>spring基于注解的IOC</h2><h3 id="曾经的xml配置："><a href="#曾经的xml配置：" class="headerlink" title="曾经的xml配置："></a>曾经的xml配置：</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;accountService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com...AccountServiceImpl&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;&quot;</span> <span class="attr">init-method</span>=<span class="string">&quot;&quot;</span> <span class="attr">destroy-method</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="用于创建对象"><a href="#用于创建对象" class="headerlink" title="用于创建对象"></a>用于创建对象</h4><ol>
<li>@Component：用于把当前对象存入spring容器中。<ol>
<li>属性：value：用于指定bean的id。默认值为当前类名，首字母小写<ol>
<li>需要在配置文件中导入context命名空间。<strong>告知spring在创建容器时要扫描的包</strong>，配置需要的标签不是在 nbeans的约束中，在context名称空间和约束中 &lt;context:component-scan base-package=”com.genuine”/&gt;</li>
</ol>
</li>
</ol>
</li>
<li>@Controller：表现层</li>
<li>@Service：业务层</li>
<li>@Repository：持久层</li>
<li>2-4三个注解的作用和属性与Component时一模一样的。spring框架提供明确的三层使用是为了使三层对象更清晰。</li>
</ol>
<h4 id="用于注入数据"><a href="#用于注入数据" class="headerlink" title="用于注入数据"></a>用于注入数据</h4><ol>
<li>@Autowired：自动按照类型注入<ol>
<li>只要容器中有唯一的一个bean对象类型和要注入的变量类型匹配就注入成功</li>
<li>如果有多个同类型。先根据对象类型查找后根据变量名称查找。</li>
</ol>
</li>
<li>@Qualifier（与Autowired一起使用）：在按照类中注入的基础上，再按照名称注入，value用于指定bean的id，在方法中可以单独使用。</li>
<li>@Resource：name属性直接指定bean 的id。</li>
<li>@Value：用于注入基本类型和String类型的数据<ol>
<li>属性：value：用于指定数据的值。</li>
<li>可以使用spring中的SpEL（spring的el表达式）。SqEL的写法：${表达式}</li>
</ol>
</li>
</ol>
<p>总结：以上1-3个只能注入其他bean类型的数据，基本类型和String类型无法使用上述注解实现。集合类型的注入只能通过xml来实现。</p>
<h4 id="用于改变作用范围"><a href="#用于改变作用范围" class="headerlink" title="用于改变作用范围"></a>用于改变作用范围</h4><p>@Scope：用于指定bean的作用范围。属性value指定范围取值。常用值：singleton，prototype。</p>
<h4 id="和生命周期相关（了解）"><a href="#和生命周期相关（了解）" class="headerlink" title="和生命周期相关（了解）"></a>和生命周期相关（了解）</h4><ol>
<li>@ProDestroy：用于销毁方法上</li>
<li>@PostConstruct：用于初始化方法上</li>
</ol>
<h4 id="基于xml的ioc案例"><a href="#基于xml的ioc案例" class="headerlink" title="基于xml的ioc案例"></a>基于xml的ioc案例</h4><p>需要粘钩：使用dbutils的queryrunner数据库操作方法，链接c3p0数据库连接池。</p>
<p>spring中ioc的常用注解</p>
<p>xml方式和注解方式实现CRUD</p>
<p>基于注解的ioc案例，使用纯注解的方式实现</p>
<p>spring和Junit整合</p>
<h3 id="spring配置类"><a href="#spring配置类" class="headerlink" title="spring配置类"></a>spring配置类</h3><p>作用与bean.xml是一样的。</p>
<ol>
<li><p>@Configuration：指定当前类是一个配置类。</p>
<ol>
<li>当使用annotationconfigration（**.class）如果没有class文件，就要在类中加入该注解。</li>
</ol>
</li>
<li><p>@ComponentScan：通过注解指定spring在创建容器时要扫描的包。</p>
<ol>
<li><p>属性basePackages：指定创建容器时要扫描的包。</p>
</li>
<li><p>属性value：和basePackages的作用是一样的。</p>
</li>
<li><p>当时使用了此注解，就等同于在xml中配置了：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.genuine&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>@Bean：把当前方法的返回值作为bean对象，存入spring的ioc容器中。</p>
<ol>
<li>属性name：指定bean的id，默认值是当前方法的名称。</li>
<li>如果方法有参数，spring框架会去容器中查找有没有可用的bean对象，查找的方式和Autowired注解的作用相同。</li>
</ol>
</li>
<li><p>@Import(JdbcConfig.class)： 可以在主配置类中，导入其他的子配置类。</p>
</li>
<li><p>@PropertySource(“classpath:**.properties”)：指定properties文件的位置。</p>
<ol>
<li>属性value：指定文件的名称和路径。关键字classpath，表示类路径下。</li>
</ol>
</li>
</ol>
<h3 id="spring整合Junit单元测试"><a href="#spring整合Junit单元测试" class="headerlink" title="spring整合Junit单元测试"></a>spring整合Junit单元测试</h3><ol>
<li>导入spring整合junit的jar</li>
<li>使用junit提供的一个注解把原有的main方法替换了，替换成@RunWith(SpringJunit4ClassRunner.class)</li>
<li>告知spring的运行器，spring和ioc创建居于xml还是注解，并说明位置@contextConfiguration<ol>
<li>localtions：指定xml文件的位置，加上classpath关键字。</li>
<li>classes：指定注解类所在的位置。</li>
</ol>
</li>
</ol>
<p>使用spring5.x时，要使用junit的jar包4.12版本及以上。</p>
<h3 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h3><p>连接池在项目启动的时候会创建一些连接，从而避免了数据库连接的操作。</p>
<p>在项目启动的时候，线程池统一管理这些线程。</p>
<ol>
<li>前置通知： 开始事务</li>
<li>后置通知：提交事务</li>
<li>异常通知：回滚</li>
<li>最终通知：关闭连接</li>
</ol>
<h3 id="动态代理"><a href="#动态代理" class="headerlink" title="动态代理"></a>动态代理</h3><p>特点：字节码随用随创建，随用随加载</p>
<p>作用：不修改源码的基础上对方法增强</p>
<p>分类：</p>
<ol>
<li>基于接口的动态代理</li>
<li>基于子类的动态代理</li>
</ol>
<h4 id="基于接口的动态代理："><a href="#基于接口的动态代理：" class="headerlink" title="基于接口的动态代理："></a>基于接口的动态代理：</h4><ol>
<li>涉及的类：Proxy</li>
<li>提供者：JDK官方</li>
</ol>
<p>如何创建代理对象：</p>
<ol>
<li>使用Proxy类中的newProxyInstance方法</li>
</ol>
<p>创建代理对象的要求：</p>
<ol>
<li>被代理类最少实现一个接口，如果没有则不能使用</li>
</ol>
<p>newProxyInstance方法的参数：</p>
<ol>
<li>ClassLoader：类加载器。用于加载代理对象字节码的。和被代理对象使用相同的类加载器。固定写法。</li>
<li>Class[]：字节码数组。用于让代理对象和被代理对象拥有相同的方法。固定写法。</li>
<li>InvocationHandler：用于提供增强的代码。一般都是一些接口地实现类，通常是匿名内部类。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Proxy.newProxyInstance(producer.getClass().getClassLoader(),producer.getClass().getIntergaces(),</span><br><span class="line">     <span class="keyword">new</span> <span class="title class_">InvocationHander</span>()&#123;</span><br><span class="line">         <span class="comment">//作用：执行被代理对象的任何接口方法都会经过该方法，方法参数的意义：proxy代理对象的引用，method当前方法的执行，args当前方法所需的参数，return和被代理对象方法相同的返回值。</span></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy,Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable&#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">          &#125;</span><br><span class="line">     &#125;);</span><br></pre></td></tr></table></figure>

<h4 id="基于子类的动态代理"><a href="#基于子类的动态代理" class="headerlink" title="基于子类的动态代理"></a>基于子类的动态代理</h4><p>导入依赖：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifacId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">artifacId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1_3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>设计的类：Enhancer</li>
<li>提供者：第三方cglib</li>
</ol>
<p>如何创建代理对象：</p>
<ol>
<li>使用Enhancer类中的create方法</li>
</ol>
<p>创建代理对象的要求：</p>
<ol>
<li>被代理类不是最终类。</li>
</ol>
<p>create方法的参数：</p>
<ol>
<li>Class：字节码。用于被代理对象的字节码</li>
<li>Callback：用于提供增强的代码。一般都是一些接口地实现类，通常是匿名内部类。一般都写该接口的子接口实现类：MethodInterceptor</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Producer producer</span><br><span class="line">Enhancer.create(producer.getClass(),<span class="keyword">new</span> <span class="title class_">MethodInterceptor</span>()&#123;</span><br><span class="line">    <span class="comment">//MethodProxy 当前执行方法的代理对象</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">intercept</span><span class="params">(Object proxy,Method method,Object[] args,MethodProxy methodProxy)</span> <span class="keyword">throws</span> Throwable&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h2 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h2><p>Aspect Oriented Programming 面向切面编程。</p>
<p><strong>作用：</strong>在程序运行期间，不修改源码对已有方法进行增强。</p>
<p><strong>优势：</strong></p>
<ol>
<li><p>减少重复代码</p>
</li>
<li><p>提高开发效率</p>
</li>
<li><p>维护方便</p>
</li>
</ol>
<p>实现方式：使用动态代理技术</p>
<h2 id="Spring的AOP"><a href="#Spring的AOP" class="headerlink" title="Spring的AOP"></a>Spring的AOP</h2><h4 id="AOP中的术语："><a href="#AOP中的术语：" class="headerlink" title="AOP中的术语："></a>AOP中的术语：</h4><ol>
<li>**Joinpoint **连接点：指那些被拦截到的点。在 spring 中,这些点指的是方法。</li>
<li><strong>Pointcut</strong> 切入点：指我们要对哪些 Joinpoint 进行拦截的定义。</li>
<li><strong>Advice(通知/增强):</strong> 指拦截到 Joinpoint 之后所要做的事情就是通知。通知的类型：前置通知,后置通知,异常通知,最终通知,环绕通知。</li>
<li>**Introduction(引介):**引介是一种特殊的通知在不修改类代码的前提下, Introduction 可以在运行期为类动态地添加一些方法或 Field。</li>
<li>**Target(目标对象):**代理的目标对象。</li>
<li>**Weaving(织入):**是指把增强应用到目标对象来创建新的代理对象的过程。spring 采用动态代理织入，而 AspectJ 采用编译期织入和类装载期织入。</li>
<li>**Proxy（代理）:**一个类被 AOP 织入增强后，就产生一个结果代理类。</li>
<li>**Aspect(切面):**是切入点和通知（引介）的结合。</li>
</ol>
<h4 id="运行阶段Spring-框架："><a href="#运行阶段Spring-框架：" class="headerlink" title="运行阶段Spring 框架："></a>运行阶段Spring 框架：</h4><p>Spring框架监听切入点方法的执行。一旦监听到切入点方法被运行，使用代理机制，动态创建目标对象的代理对象，根据通知类别，在代理对象的对应位置，将通知对应的功能织入，完成功能的代码逻辑运行。</p>
<h3 id="基于配置的springAOP"><a href="#基于配置的springAOP" class="headerlink" title="基于配置的springAOP"></a>基于配置的springAOP</h3><ol>
<li><p>配置spring的ioc进行service对象bean配置</p>
</li>
<li><p>配置Logger 日志AOP类进行对象bean配置</p>
</li>
<li><p>配置aop：</p>
<ol>
<li>```xml<br><a href="aop:config">aop:config</a><pre><code>&lt;!-- 配置切入顶啊表达式 id唯一表示 exxpression指定表达式内容  在aop:aspect标签中，只能在该标签中使用，可以写在外面--&gt;
    &lt;aop:pointcut id=&quot;pt1&quot; expression=&quot;execution(public void com.genuine.service.impl.*.*(..))&quot;/&gt;
    &lt;aop:aspect id=&quot;logAdvice&quot; ref=&quot;logger&quot;&gt;
        &lt;!-- 前置通知 --&gt;
        &lt;aop:before method=&quot;beforePrintLog&quot; pointcut-ref=&quot;pt1&quot;&gt;&lt;/aop:before&gt;
        &lt;!-- 后置通知 --&gt;
        &lt;aop:after-returning method=&quot;afterReturningPrintLog&quot; pointcut-ref=&quot;pt1&quot;&gt;&lt;/aop:after-returning&gt;
        &lt;!-- 异常通知 --&gt;
        &lt;aop:after-throwing method=&quot;afterThrowingPrintLog&quot; pointcut-ref=&quot;pt1&quot;&gt;&lt;/aop:after-throwing&gt;
        &lt;!-- 最终通知 --&gt;
        &lt;aop:after method=&quot;afterPrintLog&quot; pointcut=&quot;execution(public void com.genuine.service.impl.*.*(..))&quot;&gt;&lt;/aop:after&gt;

        &lt;!-- 环绕通知 --&gt;
        &lt;aop:around method=&quot;aroundPrintLog&quot; pointcut=&quot;execution(public void com.genuine.service
    &lt;/aop:aspect&gt;
</code></pre>
</aop:config><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">4. Logger类中环绕通知书写规范：</span><br><span class="line"></span><br><span class="line">   ```java</span><br><span class="line">   public Object aroundPrintLog(ProceedingJoinPoint pjp)&#123;</span><br><span class="line">           Object rtValue = null;</span><br><span class="line">           try &#123;</span><br><span class="line">               Object[] args = pjp.getArgs();</span><br><span class="line">               System.out.println(&quot;前置Logger类的beforePrintLog方法开始记录日志。。。&quot;);</span><br><span class="line">               </span><br><span class="line">               rtValue = pjp.proceed();//明确调用业务层方法（切入点方法）</span><br><span class="line">               </span><br><span class="line">               System.out.println(&quot;后置Logger类的afterReturningPrintLog方法开始记录日志。。。&quot;);</span><br><span class="line">               return rtValue;</span><br><span class="line">           &#125; catch (Throwable t) &#123;</span><br><span class="line">               System.out.println(&quot;异常Logger类的afterThrowingPrintLog方法开始记录日志。。。&quot;);</span><br><span class="line">               throw new RuntimeException(t);</span><br><span class="line">           &#125;finally &#123;</span><br><span class="line">               System.out.println(&quot;最终Logger类的afterPrintLog方法开始记录日志。。。&quot;);</span><br><span class="line">           &#125;</span><br><span class="line">   </span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="基于注解的springAOP"><a href="#基于注解的springAOP" class="headerlink" title="基于注解的springAOP"></a>基于注解的springAOP</h3><ol>
<li><p>配置文件：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置spring创建容器时要扫描的包 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.genuine&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    配置spring开启注解AOP的支持--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:aspectj-autoproxy</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>Logger类细节：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(&quot;logger&quot;)</span></span><br><span class="line"><span class="meta">@Aspect</span> <span class="comment">//表示当前类是一个切面类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Logger</span> &#123;</span><br><span class="line">    <span class="comment">//切点表达式</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.genuine.service.impl.*.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">pt1</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">    <span class="meta">@Before(&quot;pt1()&quot;)</span></span><br><span class="line">    <span class="meta">@AfterReturning(&quot;pt1()&quot;)</span></span><br><span class="line">    <span class="meta">@AfterThrowing(&quot;pt1()&quot;)</span></span><br><span class="line">    <span class="meta">@After(&quot;pt1()&quot;)</span></span><br><span class="line">    <span class="meta">@Around(&quot;pt1()&quot;)</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="保证idea的maven的jdk保持不变"><a href="#保证idea的maven的jdk保持不变" class="headerlink" title="保证idea的maven的jdk保持不变"></a>保证idea的maven的jdk保持不变</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 在pom.xml文件中 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Spring的JdbcTemplate"><a href="#Spring的JdbcTemplate" class="headerlink" title="Spring的JdbcTemplate"></a>Spring的JdbcTemplate</h2><ol>
<li><p>需要导入ioc，jdbc，tx，mysql依赖。</p>
</li>
<li><p>编写是实体类，需要实现Serializable接口。私有属性，get/set/toString方法。</p>
</li>
<li><p>JdbcTemplate简单使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//准备数据源：spring 的内置数据源</span></span><br><span class="line"><span class="type">DriverManagerDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DriverManagerDataSource</span>();</span><br><span class="line">ds.setDriverClassName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">ds.setUrl(<span class="string">&quot;jdbc:mysql://39.97.117.252:3306/essy?useUnicode=true&amp;charcterEncoding=utf8&amp;autoReconnect=true&amp;useSSL=false&amp;severTimezone=UTC&quot;</span>);</span><br><span class="line">ds.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">ds.setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line"><span class="comment">//1.创建JdbcTemplate对象</span></span><br><span class="line"><span class="type">JdbcTemplate</span> <span class="variable">jt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JdbcTemplate</span>();</span><br><span class="line"><span class="comment">//给jt设置数据源</span></span><br><span class="line">jt.setDataSource(ds);</span><br><span class="line"><span class="comment">//2.执行操作</span></span><br><span class="line">jt.execute(<span class="string">&quot;insert into account (name,money) values (&#x27;ccc&#x27;,1000)&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>配置数据源</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置JdbcTemplate --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://39.97.117.252:3306/essy?useUnicode=true<span class="symbol">&amp;amp;</span>charcterEncoding=utf8<span class="symbol">&amp;amp;</span>autoReconnect=true<span class="symbol">&amp;amp;</span>useSSL=false<span class="symbol">&amp;amp;</span>severTimezone=UTC&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/<span class="number">1.</span> 获取容器</span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">ac</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;bean.xml&quot;</span>);</span><br><span class="line"><span class="comment">//2. 获取对象</span></span><br><span class="line"><span class="type">JdbcTemplate</span> <span class="variable">jt</span> <span class="operator">=</span> ac.getBean(<span class="string">&quot;jdbcTemplate&quot;</span>,JdbcTemplate.class);</span><br></pre></td></tr></table></figure></li>
<li><p>JdbcTemplate的CURD</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//保存</span></span><br><span class="line">jt.update(<span class="string">&quot;insert into account (name,money) values (&#x27;eee&#x27;,1000)&quot;</span>);</span><br><span class="line"><span class="comment">//更新</span></span><br><span class="line">jt.update(<span class="string">&quot;update account set name=?,money=? where id=?&quot;</span>,<span class="string">&quot;test&quot;</span>,<span class="number">4567</span>,<span class="number">2</span>);</span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line">jt.update(<span class="string">&quot;delete from account where id=?&quot;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="comment">//查询所有 需要new BeanPropertyRowMapper对象</span></span><br><span class="line"><span class="comment">//List&lt;Account&gt; accounts = jt.query(&quot;select * from account where money &gt; ?&quot;, new AccountRowMapper(), 99d);//这样方式需要定义account的封装策略</span></span><br><span class="line">List&lt;Account&gt; accounts = jt.query(<span class="string">&quot;select * from account where money &gt; ?&quot;</span>, <span class="keyword">new</span> <span class="title class_">BeanPropertyRowMapper</span>&lt;Account&gt;(Account.class), <span class="number">99d</span>);</span><br><span class="line"><span class="keyword">for</span> (Account account :accounts) &#123;System.out.println(account);&#125;</span><br><span class="line"><span class="comment">//查询一个</span></span><br><span class="line">List&lt;Account&gt; account = jt.query(<span class="string">&quot;select * from account where id = ?&quot;</span>, <span class="keyword">new</span> <span class="title class_">BeanPropertyRowMapper</span>&lt;Account&gt;(Account.class), <span class="number">1</span>);</span><br><span class="line">System.out.println(account.isEmpty()?<span class="string">&quot;没有内容&quot;</span> : account.get(<span class="number">0</span>));</span><br><span class="line"><span class="comment">//查询返回一行一列（使用聚合函数，但不加group by字句）</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">count</span> <span class="operator">=</span> jt.queryForObject(<span class="string">&quot;select count(*) from account&quot;</span>,Integer.class);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义account的封装策略</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AccountRowMapper</span> <span class="keyword">implements</span> <span class="title class_">RowMapper</span>&lt;Account&gt;&#123;</span><br><span class="line">    <span class="comment">//把结果及中的数据封装到account中,由spring把每个account加到集合中</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Account <span class="title function_">mapRow</span><span class="params">(ResultSet resultSet, <span class="type">int</span> i)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        <span class="type">Account</span> <span class="variable">account</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>();</span><br><span class="line">        account.setId(resultSet.getInt(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">        account.setName(resultSet.getString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">        account.setMoney(resultSet.getDouble(<span class="string">&quot;money&quot;</span>));</span><br><span class="line">        <span class="keyword">return</span> account;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="SpringMVC-1"><a href="#SpringMVC-1" class="headerlink" title="SpringMVC"></a>SpringMVC</h1><p>基于Java实现的MVC设计模型的请求驱动类型的轻量级Web框架</p>
<h3 id="SpringMVC的优势"><a href="#SpringMVC的优势" class="headerlink" title="SpringMVC的优势"></a>SpringMVC的优势</h3><ol>
<li>清晰的角色划分：<ol>
<li><p>前端控制器DispatcherServlet：是整个流程控制的中心，由</p>
<p>它调用其它组件处理用户的请求，在降低了组件之间的耦合性。</p>
</li>
<li><p>处理器映射器HandlerMapping：根据用户请求找到 Handler 即处理器，SpringMVC 提供了不同的映射器实现不同的映射方式，例如：配置文件方式，实现接口方式，注解方式等。</p>
</li>
<li><p>处理器Handler：开发中要编写的具体业务控制器。由 DispatcherServlet 把用户请求转发到 Handler。由</p>
<p>Handler 对具体的用户请求进行处理。</p>
</li>
<li><p>处理器适配器HandlerAdapter：通过 HandlerAdapter 对处理器进行执行，这是适配器模式的应用，通过扩展适配器可以对更多类型的处理</p>
<p>器进行执行。</p>
</li>
<li><p>视图解析器ViewResolver：负责将处理结果生成 View 视图，View Resolver 首先根据逻辑视图名解析成物理视图名即具体的页面地址，再生成 View 视图对象，最后对 View 进行渲染将处理结果通过页面展示给用户。</p>
</li>
<li><p>视图View：要通过页面标签或页面模版技术将模型数据通过页面展示给用户。</p>
</li>
<li><p>验证器</p>
</li>
<li><p>命令对象</p>
</li>
<li><p>表单对象</p>
</li>
</ol>
</li>
<li>分工明确，容易扩展。</li>
<li>。。。</li>
</ol>
<h3 id="SpringMVC与Struts2的优略分析"><a href="#SpringMVC与Struts2的优略分析" class="headerlink" title="SpringMVC与Struts2的优略分析"></a>SpringMVC与Struts2的优略分析</h3><p>共同点：</p>
<ol>
<li>都是表现成框架，基于MVC模型编写</li>
<li>底层都离不开原始的ServletAPI</li>
<li>处理请求的机制都是一个核心控制器</li>
</ol>
<p>区别：</p>
<ol>
<li>SpringMVC的入口是Servlet，而Struts2是Filter</li>
<li>SpringMVC是基于方法设计的，而Struts2是基于类（多例的，每次执行都会创建一个动作类）</li>
<li>SpringMVC更加简洁，同时支持JSR303（JavaBean参数校验的标准），处理ajax的请求更方便。</li>
<li>Struts2的OGNL表达式时页面的开发效率相比SpringMVC更高，但执行效率没有JSTL高，尤其是struts2的表单标签，远没有html执行效率高。</li>
</ol>
<h2 id="SpringMVC入门程序"><a href="#SpringMVC入门程序" class="headerlink" title="SpringMVC入门程序"></a>SpringMVC入门程序</h2><h3 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h3><ol>
<li><p>创建Maven项目</p>
</li>
<li><p>选择maven-archetype-webapp模型</p>
</li>
<li><p>选择自己maven仓库</p>
</li>
<li><p>为解决maven项目创建过慢的问题在Properties中添加一个键值对archetypeCatalog：internal</p>
</li>
<li><p>在项目目录下创建java和resourecs文件夹，并Mark directory as 对应的选项。</p>
</li>
<li><p>导入pom.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>5.2.7.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span> $&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>编写web.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--  前端控制器--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- / 表示：所有的路径都会经过 dispatcherServlet --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>部署项目-环境搭建完成</p>
</li>
</ol>
<p><img src="https://i.loli.net/2020/10/12/zCs9JenfOpXtH1i.png" alt="image.png"></p>
<h4 id="入门程序-springmvc-xml"><a href="#入门程序-springmvc-xml" class="headerlink" title="入门程序-springmvc.xml"></a>入门程序-springmvc.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 开启注解扫描 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;cn.genuine&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    视图解析器对象--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;internalResourceViewResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        会找该目录下的文件--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/pages/&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        后缀名--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    开启springmvc注解的支持配置--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="运行流程"><a href="#运行流程" class="headerlink" title="运行流程"></a>运行流程</h4><ol>
<li>启动服务器，加载一些配置文件<ol>
<li>DispatcherServlet对象创建</li>
<li>springmvc.xml被加载</li>
<li>HelloController创建成对象</li>
</ol>
</li>
<li>发送请求，后台处理请求<ol>
<li>DispatcherServlet：前端控制器，控制作用，指挥中心</li>
<li>找到控制器类方法</li>
<li>InternalResourceViewResolver，通过视图解析器的包名和后缀名。</li>
<li>找到对应的jsp页面</li>
<li>返回给前端控制器再给浏览器。</li>
</ol>
</li>
</ol>
<p><img src="https://i.loli.net/2020/10/12/cRlNruMIPqY3FdE.png" alt="image.png"></p>
<p>SpringMVC框架基于组件方式执行流程：</p>
<ol>
<li><p>Request请求给前端控制器（控制整个流程 ）。</p>
</li>
<li><p>前端控制器根据请求通过处理器映射器<strong>找到</strong>对应的Controller类中的方法。</p>
</li>
<li><p>通过处理器适配器去执行方法返回结果</p>
</li>
<li><p>通过视图解析器找页面并返回给前端控制器</p>
</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>在 SpringMVC 的各个组件中，处理器映射器、处理器适配器、视图解析器称为 SpringMVC 的三大组件。</p>
<p>使用自动加载 RequestMappingHandlerMapping （处理映射器）和RequestMappingHandlerAdapter （ 处 理 适 配 器 ） ， 可 用 在 SpringMVC.xml 配 置 文 件 中 使 用替代注解处理器和适配器的配置。</p>
<h3 id="注解讲解"><a href="#注解讲解" class="headerlink" title="注解讲解"></a>注解讲解</h3><ol>
<li><p>@RequestMapping</p>
<ol>
<li>属性path与value：作用相同，指路径</li>
<li>属性method：RequestMethod枚举类，请求方式</li>
<li>属性params：指定限制请求参数的条件</li>
<li>属性headers：用于指定限制请求消息头的条件</li>
</ol>
</li>
<li><p>@RequestParam：把请求中指定名称的参数给控制器中的形参赋值（由于可能两者的参数名不同）。以下方法均用于形参中</p>
<ol>
<li>value：请求参数中的名称。</li>
<li>required：请求参数中是否必须提供此参数。默认值：true。</li>
</ol>
</li>
<li><p>@RequestBody：用于获取请求体内容，直接使用得到是 key=value&amp;key=value…结构的字符串数据。get不适用</p>
<ol>
<li>required：是否必须有请求体。默认值是:true。当取值为 true 时,get 请求方式会报错。如果取值为 false，get 请求得到是 null。</li>
</ol>
</li>
<li><p>@PathVariable：用于绑定 url 中的占位符。例如：请求 url 中 /delete/**{id}<strong>，这个</strong>{id}**就是 url 占位符。url 支持占位符是 spring3.0 之后加入的。是 springmvc 支持 rest 风格 URL 的一个重要标志。</p>
<ol>
<li>value：用于指定 url 中占位符名称。</li>
<li>required：是否必须提供占位符。</li>
</ol>
</li>
<li><p>@RequestHeader：用于获取请求消息头。</p>
<ol>
<li>value：提供消息头名称</li>
<li>required：是否必须有此消息头</li>
</ol>
</li>
<li><p>@CookieValue：用于把指定 cookie 名称的值传入控制器方法参数。</p>
<ol>
<li>value：指定 cookie 的名称。</li>
<li>required：是否必须有此 cookie。</li>
</ol>
</li>
<li><p>@ModelAttribute</p>
<ol>
<li>出现在方法上，表示当前方法会在控制器的方法执行之前，先执行。它可以修饰没有返回值的方法，也可以修饰有具体返回值的方法。</li>
<li>出现在参数上，获取指定的数据给参数赋值。</li>
<li>value：用于获取数据的 key。key 可以是 POJO 的属性名称，也可以是 map 结构的 key。</li>
</ol>
</li>
<li><p>@SessionAttribute：用于多次执行控制器方法间的参数共享。</p>
<ol>
<li>value：用于指定存入的属性名称</li>
<li>type：用于指定存入的数据类型。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SessionAttributes(value =&#123;&quot;username&quot;,&quot;password&quot;&#125;,types=&#123;Integer.class&#125;)</span> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SessionAttributeController</span> &#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 把数据存入 SessionAttribute</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> model</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">* Model 是 spring 提供的一个接口，该接口有一个实现类 ExtendedModelMap</span></span><br><span class="line"><span class="comment">* 该类继承了 ModelMap，而 ModelMap 就是 LinkedHashMap 子类</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/testPut&quot;)</span> </span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testPut</span><span class="params">(Model model)</span>&#123; </span><br><span class="line"> model.addAttribute(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;泰斯特&quot;</span>); </span><br><span class="line"> model.addAttribute(<span class="string">&quot;password&quot;</span>,<span class="string">&quot;123456&quot;</span>); </span><br><span class="line"> model.addAttribute(<span class="string">&quot;age&quot;</span>, <span class="number">31</span>); </span><br><span class="line"> <span class="comment">//跳转之前将数据保存到 username、password 和 age 中，因为注解@SessionAttribute 中有这几个参数 </span></span><br><span class="line"> <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>; </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="请求参数的绑定"><a href="#请求参数的绑定" class="headerlink" title="请求参数的绑定"></a>请求参数的绑定</h3><h4 id="绑定的机制"><a href="#绑定的机制" class="headerlink" title="绑定的机制"></a>绑定的机制</h4><p>表单中请求参数都是基于 key=value 。</p>
<h4 id="支持的数据类型"><a href="#支持的数据类型" class="headerlink" title="支持的数据类型"></a><strong>支持的数据类型</strong></h4><ol>
<li><p><strong>基本类型</strong></p>
<ol>
<li>基本类型和String类型：参数名称和方法的形参名称保持一致。(严格区分大小写)。</li>
</ol>
</li>
<li><p><strong>POJO</strong> <strong>类型参数</strong></p>
<ol>
<li><p>实体类以及关联的实体类：表单中参数名称和 POJO 类的属性名称保持一致。并且控制器方法的参数类型是 POJO 类型。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;address.provinceName&quot;</span> &gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p><strong>数组和集合类型参数</strong></p>
<ol>
<li><p>List 结构和 Map 结构的集合（包括数组）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;list[0].name&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;map[&#x27;one&#x27;].name&quot;</span> &gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>接收的请求参数是 json 格式数据。需要借助一个注解实现</p>
</li>
</ol>
</li>
<li><p><strong>特殊类型转换要求，需要我们自己编写自定义类型转换器。</strong></p>
<ol>
<li><p><strong>定义一个类，实现</strong> <strong>Converter</strong> <strong>接口，该接口有两个泛型。</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringToDateConverter</span> <span class="keyword">implements</span> <span class="title class_">Converter</span>&lt;String,Date&gt;&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Date <span class="title function_">convert</span><span class="params">(String source)</span>&#123;</span><br><span class="line">        <span class="type">DateFormat</span> <span class="variable">format</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(StringUtils.isEmpty(source)) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>(<span class="string">&quot;请输入要转换的日期&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            format = <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd&quot;</span>);</span><br><span class="line">            <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> format.parse(source);</span><br><span class="line">            <span class="keyword">return</span> date;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;输入日期有误&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>在</strong> <strong>spring</strong> <strong>配置文件中配置类型转换器。</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置类型转换器工厂 --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;converterService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 给工厂注入一个新的类型转换器 --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;converters&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">             <span class="comment">&lt;!-- 配置自定义类型转换器 --&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.web.converter.StringToDateConverter&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>在</strong> <strong>annotation-driven</strong> <strong>标签中引用配置的类型转换服务</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 引用自定义类型转换器 --&gt;</span> <span class="tag">&lt;<span class="name">mvc:annotation-driven</span> <span class="attr">conversion-service</span>=<span class="string">&quot;converterService&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h4 id="请求参数乱码问题"><a href="#请求参数乱码问题" class="headerlink" title="请求参数乱码问题"></a><strong>请求参数乱码问题</strong></h4><p>在post方式会出现乱码问题，可以配置过滤器解决。</p>
<p>在 web.xml 中配置一个过滤器</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置 springMVC 编码过滤器 --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- 设置过滤器中的属性值 --&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">init-param</span>&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span> </span><br><span class="line"> 		<span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;/<span class="name">init-param</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- 启动过滤器 --&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- 过滤所有请求 --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="使用-ServletAPI-对象作为方法参数"><a href="#使用-ServletAPI-对象作为方法参数" class="headerlink" title="使用 ServletAPI 对象作为方法参数"></a><strong>使用</strong> <strong>ServletAPI</strong> <strong>对象作为方法参数</strong></h4><p>SpringMVC 支持使用原始 ServletAPI 对象作为控制器方法的参数。<strong>把需要的对象，直接写在控制的方法参数中使用。</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">testServletAPI</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                            HttpServletResponse response,</span></span><br><span class="line"><span class="params">                            HttpSession session)</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="基于HiddentHttpMethodFilter的多种请求方式"><a href="#基于HiddentHttpMethodFilter的多种请求方式" class="headerlink" title="基于HiddentHttpMethodFilter的多种请求方式"></a>基于HiddentHttpMethodFilter的多种请求方式</h3><p>由于浏览器 form 表单只支持 GET 与 POST 请求，而 DELETE、PUT 等 method 并不支持，Spring3.0 添加了一个过滤器，可以将浏览器请求改为指定的请求方式，发送给我们的控制器方法，使得支持 GET、POST、PUT 与 DELETE 请求。</p>
<p>使用方法：</p>
<ol>
<li><p>在 web.xml 中配置该过滤器。</p>
</li>
<li><p>请求方式必须使用 post 请求。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;springmvc/testRestPUT/1&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">用户名称：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;_method&quot;</span> <span class="attr">value</span>=<span class="string">&quot;PUT&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;更新&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>按照要求提供_method 请求参数，该参数的取值就是我们需要的请求方式。</p>
</li>
</ol>
<h2 id="响应数据和结果视图"><a href="#响应数据和结果视图" class="headerlink" title="响应数据和结果视图"></a>响应数据和结果视图</h2><h3 id="1-按返回值分类"><a href="#1-按返回值分类" class="headerlink" title="1.按返回值分类"></a>1.按返回值分类</h3><h4 id="1-字符串"><a href="#1-字符串" class="headerlink" title="1.字符串"></a>1.字符串</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//指定逻辑视图名，经过视图解析器解析为 jsp 物理路径：/WEB-INF/pages/success.jsp</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/testReturnString&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testReturnString</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&quot;success&quot;</span>; &#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-void"><a href="#2-void" class="headerlink" title="2. void"></a>2. void</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testReturnVoid&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testReturnVoid</span><span class="params">(HttpServletRequest request,HttpServletResponse response)</span> </span><br><span class="line"><span class="keyword">throws</span> Exception &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在 controller 方法形参上可以定义 request 和 response，使用 request 或 response 指定响应结果</p>
<ol>
<li><p>使用 request 转发页面</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">request.getRequestDispatcher(<span class="string">&quot;/WEB-INF/pages/success.jsp&quot;</span>).forward(request, </span><br><span class="line">response);</span><br></pre></td></tr></table></figure></li>
<li><p>通过 response 页面重定向</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.sendREdirect(<span class="string">&quot;testReturnString&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>通过 response 指定响应结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">response.setContentType(<span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br><span class="line">response.getWriter().write(<span class="string">&quot;json 串&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="3-ModelAndView"><a href="#3-ModelAndView" class="headerlink" title="3.ModelAndView"></a>3.ModelAndView</h4><p>ModelAndView 是 SpringMVC 为我们提供的一个对象，该对象也可以用作控制器方法的返回值。</p>
<p>该对象中有两个方法：</p>
<p><img src="https://i.loli.net/2020/10/15/GDQkdFzswOPTnUu.png" alt="image.png"></p>
<p><img src="https://i.loli.net/2020/10/15/GDQkdFzswOPTnUu.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testReturnModelAndView&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ModelAndView <span class="title function_">testReturnModelAndView</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">    mv.addObject(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">    mv.setViewName(<span class="string">&quot;success&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> mv; &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;/head&gt; &lt;body&gt;</span><br><span class="line">执行成功！</span><br><span class="line">$&#123;requestScope.username&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>注意：在页面上获取使用的是 requestScope.username 取的，所以返回 ModelAndView 类型时，浏览器跳转只能是请求转发。</p>
<h3 id="2-转发和重定向"><a href="#2-转发和重定向" class="headerlink" title="2.转发和重定向"></a>2.转发和重定向</h3><h4 id="1-forward转发"><a href="#1-forward转发" class="headerlink" title="1.forward转发"></a>1.forward转发</h4><p>controller 方法在提供了 String 类型的返回值之后，默认就是请求转发。我们也可以写成：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="string">&quot;forward:/WEB-INF/pages/success.jsp&quot;</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;forward:/user/findAll&quot;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="2-Redirect重定向"><a href="#2-Redirect重定向" class="headerlink" title="2. Redirect重定向"></a>2. Redirect重定向</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="string">&quot;redirect:testReturnModelAndView&quot;</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;redirect:/add.jsp&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>如果是重定向到 jsp 页面，则 jsp 页面不能写在 WEB-INF 目录中，否则无法找到。</p>
<h3 id="3-ResponseBody-响应-json-数据"><a href="#3-ResponseBody-响应-json-数据" class="headerlink" title="3.ResponseBody 响应 json 数据"></a>3.ResponseBody 响应 json 数据</h3><p>该注解用于将 Controller 的方法返回的对象，通过 HttpMessageConverter 接口转换为指定格式的数据如：json,xml 等，通过 Response 响应给客户端</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testResponseJson&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@ResponseBody</span> Account <span class="title function_">testResponseJson</span><span class="params">(<span class="meta">@RequestBody</span> Account account)</span> &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;异步请求：&quot;</span>+account);</span><br><span class="line"><span class="keyword">return</span> account; &#125;</span><br></pre></td></tr></table></figure>

<p>使用需要要导入jar包jackson。</p>
<h2 id="SpringMVC文件上传"><a href="#SpringMVC文件上传" class="headerlink" title="SpringMVC文件上传"></a>SpringMVC文件上传</h2><h3 id="1-文件上传回顾"><a href="#1-文件上传回顾" class="headerlink" title="1.文件上传回顾"></a>1.文件上传回顾</h3><p>导入文件上传的jar包</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>


    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/08/27/Linux/Linux%E5%AE%89%E8%A3%85Mysql%208.0/" rel="prev" title="Linux安装Mysql 8.0">
                  <i class="fa fa-chevron-left"></i> Linux安装Mysql 8.0
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/09/12/java/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/" rel="next" title="Java多线程">
                  Java多线程 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">QB</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  




<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"genuinenonage/comments","issue_term":"pathname","theme":"github-light"}</script>
<script src="/js/third-party/comments/utterances.js"></script>

</body>
</html>
